<?xml version="1.0" encoding="utf-8"?>

<Patch>

<!-- To remove duration -->
<Operation Class="PatchOperationConditional">
    <xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/statBases</xpath>
    <match Class="PatchOperationRemove">
        <xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/statBases</xpath>
    </match>    
</Operation>      

<!--Reduce Cooldown to 1 tick-->
<Operation Class="PatchOperationConditional">
<xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/cooldownTicksRange</xpath>
    <match Class="PatchOperationReplace">
        <xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/cooldownTicksRange</xpath>    
        <value>
            <cooldownTicksRange>1</cooldownTicksRange> 
        </value>
    </match>   
</Operation> 


<!-- The toggle ON actual place for replacing invisibility to sightstealer invisibility--> 
<Operation Class="PatchOperationConditional">
<xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/comps</xpath>
    <match Class="PatchOperationReplace">
        <xpath>/Defs/AbilityDef[defName="RevenantInvisibility"]/comps</xpath>    
        <value>
            <comps>
                <li Class="IVABRS.CompProperties_IVAbilityGiveBetterHediff">
                    <compClass>IVABRS.CompIVAbilityEffect_GiveBetterHediff</compClass>
<!--                 <hediffDef>HoraxianInvisibility</hediffDef>
                    <psychic>True</psychic>-->   
                </li>
            </comps>
        </value>
    </match>   
</Operation>


<!-- Give toggle off to Revenant Vertebrae 
<Operation Class="PatchOperationConditional">
<xpath>/Defs/HediffDef[defName="RevenantVertebrae"]/abilities</xpath>
    <match Class="PatchOperationAdd">
        <xpath>/Defs/HediffDef[defName="RevenantVertebrae"]/abilities</xpath>    
        <value>
            <li>RevenantInvisibilityOFF</li>
        </value>
        
    </match>   
</Operation>
-->
</Patch>